var eventUtil=new EventUtil();var flag_userNo=false,flag_userName=false,flag_userPassword=false,flag_phone=false,flag_short_phone=false;var userNo=document.getElementById("userNo");var userNoErr=document.getElementById("userNoErr");check_userNo(userNo,userNoErr,10,10);var userName=document.getElementById("userName");var userNameErr=document.getElementById("userNameErr");check_userName(userName,userNameErr,4,2);var userPassword=document.getElementById("userPassword");var userPasswordErr=document.getElementById("userPasswordErr");check_password(userPassword,userPasswordErr);var userPasswordRepeat=document.getElementById("userPasswordRepeat");var userPasswordRepeatErr=document.getElementById("userPasswordRepeatErr");check_password_repeat(userPassword,userPasswordRepeat,userPasswordRepeatErr);var grdID=document.getElementById("grdID");var grdIDErr=document.getElementById("grdIDErr");var collageID=document.getElementById("collageID");var collageIDErr=document.getElementById("collageIDErr");var depID=document.getElementById("depID");var depIDErr=document.getElementById("depIDErr");var roleID=document.getElementById("roleID");var roleIDErr=document.getElementById("roleIDErr");var phone=document.getElementById("phone");var phoneErr=document.getElementById("phoneErr");check_phone(phone,phoneErr);var short_phone=document.getElementById("phone_short");var short_phoneErr=document.getElementById("phone_shortErr");check_short_phone(short_phone,short_phoneErr);var btnSubmit=document.getElementById("submit");eventUtil.addHandler(btnSubmit,"click",function(a){if(!checkNull(userNo,userNoErr)||!flag_userNo||!checkNull(userName,userNameErr)||!flag_userName||!checkNull(userPassword,userPasswordErr)||!flag_userPassword||!checkNull(userPasswordRepeat,userPasswordRepeatErr)||!flag_userPassword||!checkNull(grdID,grdIDErr)||!checkNull(collageID,collageIDErr)||!checkNull(depID,depIDErr)||!checkNull(roleID,roleIDErr)||!checkNull(phone,phoneErr)||!flag_phone||!checkNull(short_phone,short_phoneErr)||!flag_short_phone){var b=eventUtil.getEvent(a);eventUtil.preventDefault(b)}});function checkNull(a,c){var b=false;if(a.value==""){a.className="ErrInput";c.innerText="* 不能为空";c.style.display="";b=false}else{a.className="NomalInput";c.innerText="";c.style.display="none";b=true}return b}function checkDigit(a,c){var b=false;var d=/[^0-9]+/;if(a.value!=""){if(d.test(a.value)){a.className="ErrInput";c.innerText="* 只能为数字";c.style.display="";b=false}else{a.className="NomalInput";c.innerText="";c.style.display="none";b=true}}return b}function checkDigitAbc(a,c){var b=false;var d=/[^0-9A-Za-z]+/;if(a.value!=""){if(d.test(a.value)){a.className="ErrInput";c.innerText="* 只能为数字和字母";c.style.display="";b=false}else{a.className="NomalInput";c.innerText="";c.style.display="none";b=true}}return b}function checkLength(a,d,c,e){var b=false;if(a.value!=""){if(a.value.length>c||a.value.length<e){a.className="ErrInput";d.innerText="* 长度应该在"+e+"-"+c+"之间";d.style.display="";b=false}else{a.className="NomalInput";d.innerText="";d.style.display="none";b=true}}return b}function checkPhone(a,d){var c=false,h=/13\d{5,9}/,g=/153\d{4,8}/,f=/159\d{4,8}/,e=/158\d{4,8}/,b=/150\d{4,8}/;if(a.value!=""){if(h.test(a.value)||g.test(a.value)||f.test(a.value)||e.test(a.value)||b.test(a.value)){a.className="NomalInput";d.innerText="";d.style.display="none";c=true}else{a.className="ErrInput";d.innerText="* 无效的电话号码";d.style.display="";c=false}}return c}function checkShortPhone(a,c){var b=false;var d=/6\d{5}/;if(a.value!=""){if(d.test(a.value)){a.className="NomalInput";c.innerText="";c.style.display="none";b=true}else{a.className="ErrInput";c.innerText="* 无效的短号";c.style.display="";b=false}}return b}function checkRepeat(d,a,c){var b=false;if(d.value!=""&&a.value!=""){if(d.value!=a.value){a.className="ErrInput";c.innerText="* 重复输入的密码和原先的不一致";c.style.display="";b=false}else{a.className="NomalInput";c.innerText="";c.style.display="none";b=true}}return b}function checkChinese(a,c){var b=false;var d=/[^\u4E00-\u9FA5]/;if(a.value!=""){if(d.test(a.value)){a.className="ErrInput";c.innerText="* 只能输入汉字";c.style.display="";b=false}else{a.className="NomalInput";c.innerText="";c.style.display="none";b=true}}return b}function check_userNo(a,c,b,d){eventUtil.addHandler(a,"blur",function(){flag_userNo=checkDigit(a,c)&&checkLength(a,c,b,d)})}function check_userName(a,c,b,d){eventUtil.addHandler(a,"blur",function(){flag_userName=checkChinese(a,c)&&checkLength(a,c,b,d)})}function check_password(a,b){eventUtil.addHandler(a,"blur",function(){flag_userPassword=checkDigitAbc(a,b)&&checkLength(a,b,16,8)})}function check_password_repeat(a,c,b){eventUtil.addHandler(c,"blur",function(){flag_userPassword=checkRepeat(a,c,b)})}function check_phone(a,b){eventUtil.addHandler(a,"blur",function(){flag_phone=checkPhone(a,b)})}function check_short_phone(a,b){eventUtil.addHandler(a,"blur",function(){flag_short_phone=checkShortPhone(a,b)})};